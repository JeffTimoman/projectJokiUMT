<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ilmu Pendidikan</title>
    <link rel="stylesheet" href="./css/bootstrap.css">
    <link rel="stylesheet" href="./css/quizes.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,700;0,800;0,900;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
</head>
<style>
    body {
        background: linear-gradient(to right, #ffc107, #4caf50);
        /* add blur */
        background-attachment: fixed;
    }
</style>

<body>
    <div class="container-fluid d-flex align-items-center justify-content-center" style="scale: 0.9">
        <div class="wrapper" style="background: white;">
            <div class="quiz-title mt-2 d-flex flex-row w-100 justify-content-between">
                <h4>Quiz 4: Model Prosedur Penelitian Tindakan Kelas</h4>
                <h4 class="Waktu"></h4>
            </div>
            <div id="progress-bar-container" class="mt-2">
                <div class="progress-bar-title">
                    <div class="progress-bar-title-text">Kemajuan Quiz: </div>
                    <div class="progress-bar-title-text">Pertanyaan <span class="current-question">1</span> dari <span
                            id="totalQuestion"></span></div>
                </div>
                <div id="progress-bar" class="progress mt-1">
                    <div class="progress-bar my-bar" role="progressbar" style="width: 0%;" aria-valuenow="0"
                        aria-valuemin="0" aria-valuemax="100"></div>
                </div>
            </div>
            <div class="quiz-question">
                <div class="quiz-question-number mt-3">Pertanyaan <span class="current-question">1</span></div>
                <div class="question-text-wrapper">
                    <h5 id="question-text">Istilah pedagogia berasal dari bahasa</h5>
                </div>
            </div>
            <div class="options d-grid">
                <button class="btn btn-outline-secondary option" value=0 id="option0"></button>
                <button class="btn btn-outline-secondary option" value=1 id="option1"></button>
                <button class="btn btn-outline-secondary option" value=2 id="option2"></button>
                <button class="btn btn-outline-secondary option" value=3 id="option3"></button>
            </div>
            <div class="buttons-wrapper mt-1">
                <button id="prev" class="btn btn-outline-danger ">Sebelumnya</button>
                <button id="next" class="btn btn-outline-success">Selanjutnya</button>
                <button id="finish" class="btn btn-outline-primary">Selesai</button>
            </div>
        </div>
        <div class="wrapper-2 mt-2" style="background: white;">
            <h3>Kuisnya sudah selesai!</h3>
            <div class="message">
                Tekan tombol selesai dibawah skor untuk kembali ke halaman utama.
            </div>

            <div class="rating mt-4"></div>
            <div class="mt-2">
                Skor quiz kamu: <span id="infoSkor"></span>/100
            </div>
            <a href="./home.html" class="btn btn-outline-warning mt-2">Selesai</a>
        </div>
    </div>
</body>
<script>
    var questionData = {
        "questions": {
            "0": "Apa yang dimaksud dengan Penelitian Tindakan Kelas (PTK)?",
            "1": "Langkah pertama dalam model PTK Kurt Lewin adalah...",
            "2": "Perbedaan utama antara model PTK Kurt Lewin dan Kemmis & McTaggart adalah...",
            "3": "Apa yang dimaksud dengan refleksi dalam penelitian tindakan kelas (PTK)?",
            "4": "Mengapa skenario pembelajaran harus ditulis dalam bahasa operasional dan prosedural?",
            "5": "Apa yang sebaiknya dilakukan jika terjadi kejadian unik selama tindakan berlangsung?",
            "6": "Berikut ini yang merupakan langkah-langkah utama dalam satu siklus PTK adalah...",
            "7": "Tujuan utama dari Penelitian Tindakan Kelas adalah...",
            "8": "Model Elliott lebih menekankan pada...",
            "9": "Menurut Kizlik (2007), evaluasi dilakukan untuk...",
            "10": "Jika alat pengumpulan data tidak dipersiapkan dengan baik, apa dampaknya terhadap penelitian?",
            "11": "Siapa yang dapat melakukan observasi selama pelaksanaan tindakan?",
            "12": "Model penelitian tindakan kelas dikemukakan pertama kali oleh?",
            "13": "Pada model Kemmis dan McTaggart, tahapan observasi dilakukan setelah...",
            "14": "Salah satu karakteristik dari model McKernan adalah...",
            "15": "Tujuan evaluasi tercapai apabila:",
            "16": "Apabila peneliti belum melakukan terhadap kesuksesan tindakan yang telah direncanakan maka peneliti dapat",
            "17": "Apa yang sebaiknya dilakukan jika terjadi kejadian unik selama tindakan berlangsung?",
            "18": "Model penelitian tindakan kelas yang diperkenalkan oleh Ebbutt tekanan pada...",
            "19": "Model PTK yang model tindakan dan pengamatan dijadikan sebagai satu kesatuan merupakan model dari"
        },
        "options": {
            "0": ["Penelitian yang dilakukan untuk menemukan teori baru.",
                "Penelitian yang bertujuan meningkatkan praktik pembelajaran cara berkesinambungan.",
                "Penelitian yang dilakukan di laboratorium.", "Penelitian untuk menganalisis data kuantitatif."
            ],
            "1": ["Observasi", "Perencanaan", "Refleksi", "Tindakan"],
            "2": ["Kurt Lewin tidak mencakup refleksi, sedangkan Kemmis & McTaggart mencakup refleksi dalam setiap siklus.",
                "Kurt Lewin melakukan observasi setelah tindakan. Sedangkan Kemmis & McTaggart dalam model tindakan yang diperkenalkannya tindakan dan observasinya dijadikan sebagai satu kesatuan.",
                "Kurt Lewin hanya fokus pada tindakan, sedangkan Kemmis & McTaggart fokus pada hasil.",
                "Kurt Lewin menggunakan pendekatan eksperimen, sedangkan Kemmis & McTaggart menggunakan pendekatan survei."
            ],
            "3": ["Proses pengumpulan data", "Pengkajian keberhasilan dan kegagalan untuk tindak lanjut",
                "Pelaksanaan rencana tindakan", "Penyusunan indikator kualitas"
            ],
            "4": ["Agar lebih menarik untuk dibaca siswa", "Agar mudah dipahami oleh orang lain",
                "Untuk mempermudah pembuatan RPP", "Untuk menghemat waktu penulisan"
            ],
            "5": ["Mengabaikannya karena tidak direncanakan sebelumnya", "Membuat lembar observasi baru",
                "Menghentikan tindakan sementara",
                "Mencatatnya dan mendiskusikannya dengan personal yang terlibat"
            ],
            "6": ["Perencanaan, tindakan, observasi, dan refleksi",
                "Observasi, eksperimen, evaluasi, dan kesimpulan.",
                "Perencanaan, eksperimen, analisis, dan evaluasi.",
                "Penelitian awal, pengumpulan data, dan analisis."
            ],
            "7": ["Menyimpulkan data statistik pembelajaran.",
                "Memecahkan masalah serta meningkatkan mutu pembelajaran",
                "Membandingkan metode pembelajaran dengan eksperimen.",
                "Menemukan teori baru dalam pembelajaran."
            ],
            "8": ["Siklus sederhana tanpa refleksi mendalam.", "Eksperimen kurikulum sebelum tindakan.",
                "Partisipasi guru sebagai peneliti utama.", "Pembelajaran berbasis tindakan mandiri siswa."
            ],
            "9": ["Membaca alat pengumpul data", "Mengklarifikasikan aspek yang dievaluasi",
                "Memperbaiki proses tindakan di masa depan", "Menyusun laporan penelitian"
            ],
            "10": ["Tidak mempengaruhi proses penelitian",
                "Peneliti kehilangan informasi penting selama tindakan berlangsung",
                "Penelitian akan gagal secara keseluruhan",
                "Hasil tindakan tetap dapat diukur dengan metode lain"
            ],
            "11": ["Hanya siswa di kelas", "Guru/peneliti sendiri, siswa serta teman sejawat",
                "Tim ahli dari luar sekolah", "Hanya kepala sekolah"
            ],
            "12": ["John Dewey", "Kurt Lewin", "Stephen Kemmis", "David Ebbutt"],
            "13": ["Tindakan", "Refleksi", "Perencanaan", "Evaluasi"],
            "14": ["Refleksi dilakukan di awal dan akhir siklus.", "Berorientasi pada pembelajaran individu.",
                "Mencakup eksperimen kecil sebelum mengambil tindakan besar.",
                "Memproduksi pendekatan kuantitatif dalam PTK."
            ],
            "15": ["Semua tindakan selesai dilaksanakan", "Indikator kualitas telah terpenuhi",
                "Semua elemen refleksi telah dibahas", "Data deskriptif lengkap tersedia"
            ],
            "16": ["Melaksanakan simulasi pada teman sejawat atau kelas kecil",
                "Menggunakan perangkat meskipun tidak lengkap",
                "Mengubah perangkat selama tindakan berlangsung", "Mengabaikan perangkat pembelajaran"
            ],
            "17": ["Mengabaikannya karena tidak direncanakan sebelumnya",
                "Mencatatnya dan mendiskusikannya dengan personal yang terlibat",
                "Menghentikan tindakan sementara", "Membuat lembar observasi baru"
            ],
            "18": ["Peningkatan kolaborasi antar tim", "Pengujian teori dalam pembelajaran",
                "Observasi kelas oleh pihak eksternal", "Pengumpulan data statistik tentang hasil belajar"
            ],
            "19": ["Elliott", "Kurt Lewin", "McKernan", "Kemmis dan McTaggart"]
        },
        "answers": {
            "0": 1,
            "1": 1,
            "2": 1,
            "3": 1,
            "4": 1,
            "5": 3,
            "6": 0,
            "7": 1,
            "8": 2,
            "9": 1,
            "10": 1,
            "11": 1,
            "12": 1,
            "13": 0,
            "14": 2,
            "15": 1,
            "16": 0,
            "17": 1,
            "18": 0,
            "19": 3
        },
        "aspects": {
            "0": "C1",
            "1": "C2",
            "2": "C3",
            "3": "C1",
            "4": "C3",
            "5": "C2",
            "6": "C1",
            "7": "C2",
            "8": "C4",
            "9": "C1",
            "10": "C3",
            "11": "C2",
            "12": "C1",
            "13": "C2",
            "14": "C4",
            "15": "C1",
            "16": "C3",
            "17": "C2",
            "18": "C1",
            "19": "C2"
        }
    };
</script>
<script src="./js/jquery.min.js"></script>
<script src="./js/bootstrap.js"></script>
<script>
    function calc_score(user_answers) {
        let score = 0;
        for (let i = 0; i < user_answers.length; i++) {
            if (user_answers[i] == questionData.answers[i]) {
                score++;
            }
        }
        return Math.floor(score / user_answers.length * 100);
    }

    $(document).ready(function () {
        var current_index = 0;
        var total_question = Object.keys(questionData.questions).length;
        console.log(total_question);
        var current_check = -1;
        var user_answers = [];
        for (let i = 0; i < total_question; i++) {
            user_answers.push(-1);
        }
        // place the first question to the page
        $('#question-text').text(questionData.questions[current_index]);
        $('#option0').text(questionData.options[current_index][0]);
        $('#option1').text(questionData.options[current_index][1]);
        $('#option2').text(questionData.options[current_index][2]);
        $('#option3').text(questionData.options[current_index][3]);
        $('#totalQuestion').text(total_question);

        $('.option').on('click', function () {
            user_answers[current_index] = $(this).val();
            $('.option').removeClass('active');
            $(this).addClass('active');
        });

        $('#next').on('click', function () {
            $('.option').removeClass('active');
            $('#prev').css('display', 'block');
            current_index++;
            if (current_index == total_question - 1) {
                $('#next').css('display', 'none');
                $('#finish').css('display', 'block');
            }
            $('#question-text').text(questionData.questions[current_index]);
            $('#option0').text(questionData.options[current_index][0]);
            $('#option1').text(questionData.options[current_index][1]);
            $('#option2').text(questionData.options[current_index][2]);
            $('#option3').text(questionData.options[current_index][3]);
            $('.current-question').text(current_index + 1);

            if (user_answers[current_index] != -1) {
                $('.option').eq(user_answers[current_index]).addClass('active');
            } else {
                $('.option').removeClass('active');
            }
            // make progress bar arial-valuenow increase
            let progress = (current_index + 1) / total_question * 100;
            $('.my-bar').css('width', progress + '%');

        });

        $('#prev').on('click', function () {
            $('.option').removeClass('active');
            $('#next').css('display', 'block');
            $('#finish').css('display', 'none');
            current_index--;
            if (current_index == 0) {
                $('#prev').css('display', 'none');
            }
            $('#question-text').text(questionData.questions[current_index]);
            $('#option0').text(questionData.options[current_index][0]);
            $('#option1').text(questionData.options[current_index][1]);
            $('#option2').text(questionData.options[current_index][2]);
            $('#option3').text(questionData.options[current_index][3]);
            $('.current-question').text(current_index + 1);

            if (user_answers[current_index] != -1) {
                $('.option').eq(user_answers[current_index]).addClass('active');
            } else {
                $('.option').removeClass('active');
            }
            let progress = (current_index + 1) / total_question * 100;
            $('.my-bar').css('width', progress + '%');
        });

        $('#finish').on('click', function () {
            $('.wrapper').css('display', 'none');
            $('.wrapper-2').css('display', 'flex');
            let score = calc_score(user_answers);
            $('.rating').text(score + '%');
            const ratings = document.querySelectorAll(".rating");
            $('#infoSkor').text(score);

            // Iterate over all rating items
            ratings.forEach((rating) => {
                // Get content and get score as an int
                const ratingContent = rating.innerHTML;
                const ratingScore = parseInt(ratingContent, 10);

                // Define if the score is good, meh or bad according to its value
                const scoreClass =
                    ratingScore < 40 ? "bad" : ratingScore < 60 ? "meh" : "good";

                // Add score class to the rating
                rating.classList.add(scoreClass);

                // After adding the class, get its color
                const ratingColor = window.getComputedStyle(rating).backgroundColor;

                // Define the background gradient according to the score and color
                const gradient =
                    `background: conic-gradient(${ratingColor} ${ratingScore}%, transparent 0 100%)`;

                // Set the gradient as the rating background
                rating.setAttribute("style", gradient);

                // Wrap the content in a tag to show it above the pseudo element that masks the bar
                rating.innerHTML = `<span>${ratingScore} ${ratingContent.indexOf("%") >= 0 ? "<small>%</small>" : ""
                    }</span>`;
            });
        });
        var time = 1800;
        var timer = setInterval(function () {
            time--;
            var minutes = Math.floor(time / 60);
            var seconds = time - minutes * 60;
            if (seconds < 10) {
                seconds = "0" + seconds;
            }
            if (minutes < 10) {
                minutes = "0" + minutes;
            }
            $(".Waktu").html(minutes + ":" + seconds);
            if (time == 0) {
                clearInterval(timer);
                $('.wrapper').css('display', 'none');
                $('.wrapper-2').css('display', 'flex');
                let score = calc_score(user_answers);
                $('.rating').text(score + '%');
                const ratings = document.querySelectorAll(".rating");
                $('#infoSkor').text(score);

                // Iterate over all rating items
                ratings.forEach((rating) => {
                    // Get content and get score as an int
                    const ratingContent = rating.innerHTML;
                    const ratingScore = parseInt(ratingContent, 10);

                    // Define if the score is good, meh or bad according to its value
                    const scoreClass =
                        ratingScore < 40 ? "bad" : ratingScore < 60 ? "meh" : "good";

                    // Add score class to the rating
                    rating.classList.add(scoreClass);

                    // After adding the class, get its color
                    const ratingColor = window.getComputedStyle(rating).backgroundColor;

                    // Define the background gradient according to the score and color
                    const gradient =
                        `background: conic-gradient(${ratingColor} ${ratingScore}%, transparent 0 100%)`;

                    // Set the gradient as the rating background
                    rating.setAttribute("style", gradient);

                    // Wrap the content in a tag to show it above the pseudo element that masks the bar
                    rating.innerHTML = `<span>${ratingScore} ${ratingContent.indexOf("%") >= 0 ? "<small>%</small>" : ""
                        }</span>`;
                });
            }
        }, 1000);
    });
</script>
<script src="./js/block_back.js"></script>

</html>